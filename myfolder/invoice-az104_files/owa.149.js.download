self.scriptsLoaded = self.scriptsLoaded || {}; self.scriptProcessStart = self.scriptProcessStart || {}; self.scriptProcessStart['owa.149.js'] = (new Date()).getTime();(window.$wj=window.$wj||[]).push([[149],{10415:function(e,r,t){"use strict";var n;!function(e){e[e.EventSharingFromCalendar=0]="EventSharingFromCalendar",e[e.EventSharingFromMail=1]="EventSharingFromMail",e[e.EmailReminder=2]="EmailReminder"}(n||(n={})),r.a=n},10416:function(e,r,t){"use strict";function n(e,r){return e&&r?Object.assign({basicEntity:e},{name:r.name,phone:r.phone}):null}t.d(r,"a",(function(){return n}))},13374:function(e,r,t){"use strict";var n=t(9386);function i(e,r){return e&&r?(e=Object.assign(Object.assign({},e),{iataCode:r.iataCode}),e=Object(n.a)(e,r)):null}var a=t(10416),s=t(7672),o=t(9387);function c(e){switch(e){case"Active":return o.a.Active;case"Scheduled":return o.a.Scheduled;case"Landed":return o.a.Landed;case"Diverted":return o.a.Diverted;case"Redirected":return o.a.Redirected;case"Cancelled":return o.a.Cancelled;case"NotOperational":return o.a.NotOperational;case"Unknown":return o.a.Unknown;default:return null}}var u=t(3617),l=t(5371);function d(e,r,t){var n;if(e&&r){let o=Object(s.a)(e,r,!1);if(function(e,r,t){var n;if(null===(n=null==e?void 0:e.reservationFor)||void 0===n?void 0:n.provider){let n=e.reservationFor,i=e.reservationFor.provider;const a=!t||t(n.arrivalTime,!1,r)&&t(n.arrivalTimeUtc,!0,r)&&t(n.departureTime,!1,r)&&t(n.departureTimeUtc,!0,r);if(i.iataCode&&i.name&&v(n.arrivalAirport)&&v(n.departureAirport)&&n.flightNumber&&n.arrivalTime&&n.departureTime&&a)return!0}return!1}(r,e,t)){let e=r.reservationFor,t=e.provider;return o=Object.assign(Object.assign({},o),{entityName:l.a.FlightReservation,entityType:u.a.FlightReservation,checkinUrl:r.checkinUrl?r.checkinUrl:r.potentialAction?r.potentialAction.target:null,departureTime:e.departureTime,departureTimeUtc:e["departureTime/utc"],departureTimeRevised:e["departureTime/revised"],departureTimeUtcRevised:e["departureTime/utc/revised"],departureTerminal:e.departureTerminal,departureTerminalRevised:e["departureTerminal/revised"],departureGate:e.departureGate,departureGateRevised:e["departureGate/revised"],departureTimeZone:e["departureTime/windowsTimeZoneName"],arrivalTime:e.arrivalTime,arrivalTimeUtc:e["arrivalTime/utc"],arrivalTimeRevised:e["arrivalTime/revised"],arrivalTimeUtcRevised:e["arrivalTime/utc/revised"],arrivalTerminal:e.arrivalTerminal,arrivalTerminalRevised:e["arrivalTerminal/revised"],arrivalGate:e.arrivalGate,arrivalGateRevised:e["arrivalGate/revised"],arrivalTimeZone:e["arrivalTime/windowsTimeZoneName"],flightNumber:e.flightNumber,flightNumberRevised:e["flightNumber/revised"],flightStatus:c(e["flightStatus/revised"]),lastUpdatedTime:e.lastUpdatedTime,airline:{name:t.name,iataCode:t.iataCode},passengerNames:null===(n=r["underName/passengerNames"])||void 0===n?void 0:n.map(e=>Object(a.a)({},e))}),o=Object.assign(Object.assign({},o),{departureAirport:i(o,e.departureAirport)}),o=Object.assign(Object.assign({},o),{arrivalAirport:i(o,e.arrivalAirport)}),o}}return null}function v(e){var r;return!!((null==e?void 0:e.iataCode)&&(e["address/commonCity"]||(null===(r=e.address)||void 0===r?void 0:r.addressLocality)))}t.d(r,"a",(function(){return d}))},13414:function(e,r,t){"use strict";var n=t(10415);const i="schema.org parser",a="schema",s="extraction";function o(e,r){if(e){let t=r?e["@EntityId"]:e["@id"];if(t){const r=n.a[e["additionalType/Txp"]],o=e["@source"],c=function(e,r){let t=null;return null!=e?t=n.a[e]:r&&(t=r.toLowerCase().indexOf(i)>-1?a:s),t}(r,o),u=e["originEmails/Txp"],l=e["@inferenceId"],d=e.immutableMessageIds;let v=null,m=null,p=null;return(null==u?void 0:u.length)&&(v=u[0].ewsId,m=u[0].receivedTime,p=u[0].internetMessageId),{id:t,source:o,trustScore:e["@entityExtractionTrustLevel"],txpAdditionalType:r,origin:c,originalEmailEwsId:v,originalEmailReceivedTime:m,originalEmailInternetMessageId:p,inferenceId:l,immutableMessageIds:d,tripId:e["@tripId"]}}}return null}t.d(r,"a",(function(){return o}))},3617:function(e,r,t){"use strict";var n;!function(e){e[e.EventReservation=0]="EventReservation",e[e.FlightReservation=1]="FlightReservation",e[e.FoodReservation=2]="FoodReservation",e[e.Invoice=3]="Invoice",e[e.LodgingReservation=4]="LodgingReservation",e[e.ParcelDelivery=5]="ParcelDelivery",e[e.RentalCarReservation=6]="RentalCarReservation",e[e.ServiceReservation=7]="ServiceReservation",e[e.UnsuccessfulFlightReservation=8]="UnsuccessfulFlightReservation",e[e.UnsuccessfulLodgingReservation=9]="UnsuccessfulLodgingReservation",e[e.UnsuccessfulRentalCarReservation=10]="UnsuccessfulRentalCarReservation"}(n||(n={})),r.a=n},5371:function(e,r,t){"use strict";r.a={EventReservation:"EventReservation",FlightReservation:"FlightReservation",FoodReservation:"FoodEstablishmentReservation",Invoice:"Invoice",LodgingReservation:"LodgingReservation",ParcelDelivery:"ParcelDelivery",RentalCarReservation:"RentalCarReservation",ServiceReservation:"ServiceReservation",UnsuccessfulFlightReservation:"UnsuccessfulFlightReservation",UnsuccessfulLodgingReservation:"UnsuccessfulLodgingReservation",UnsuccessfulRentalCarReservation:"UnsuccessfulRentalCarReservation"}},7672:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var n=t(10416);function i(e,r,t){if(e&&r){let i;if(r.reservationId)i=r.reservationId;else if(r.reservationNumber)i=r.reservationNumber;else if(!t)return null;let a=r.underName,s=Object.assign(Object.assign({},e),{reservationId:i,reservationStatus:r.reservationStatus,modifyReservationUrl:r.modifyReservationUrl,underName:Object(n.a)({},a)}),o=r.reservedTicket;if(o){let e=o.ticketSeat;s=Object.assign(Object.assign({},s),{reservedTicket:{ticketNumber:o.ticketNumber,seat:{row:e?e.seatRow:null,seatNumber:e?e.seatNumber:null,section:e?e.seatSection:null}}})}return s}return null}},9386:function(e,r,t){"use strict";function n(e,r){if(e&&r){let t=Object.assign(Object.assign({},e),{name:r.name,telephone:r.telephone,city:r["address/commonCity"]});return r.address&&(t=Object.assign(Object.assign({},t),{address:Object.assign({},r.address)})),t}return null}t.d(r,"a",(function(){return n}))},9387:function(e,r,t){"use strict";var n;!function(e){e[e.Unknown=0]="Unknown",e[e.Scheduled=1]="Scheduled",e[e.Active=2]="Active",e[e.Redirected=3]="Redirected",e[e.Landed=4]="Landed",e[e.Diverted=5]="Diverted",e[e.Cancelled=6]="Cancelled",e[e.NotOperational=7]="NotOperational",e[e.NoData=8]="NoData"}(n||(n={})),r.a=n},9843:function(e,r,t){"use strict";var n=t(5371),i=t(13414),a=t(3617),s=t(7672);function o(e,r){return e&&r?Object.assign(Object.assign({},e),{streetAddress:r.streetAddress,addressLocality:r.addressLocality,addressRegion:r.addressRegion,addressCountry:r.addressCountry,postalCode:r.postalCode,postOfficeBoxNumber:r.postOfficeBoxNumber}):null}function c(e){let r=o({},e.reservationFor.address);return{name:e.reservationFor.name,address:r,telephone:e.reservationFor.telephone,city:e.reservationFor.city}}var u=t(9386);const l="numSeats";function d(e){let r=0;return e[l]&&e[l]>0&&(r=parseInt(e[l],10)-1),r}var v=t(13374);function m(e,r){return e&&r?Object.assign({basicEntity:e},{name:r.name,telephone:r.telephone}):null}function p(e){if(e){if(!Array.isArray(e))return e;if(e.length>0)return e[0]}}function f(e,r){const t=p(r);return e&&t?Object.assign(Object.assign({},e),{url:t.url,description:t.description}):null}function g(e,r){return e&&r?Object.assign(Object.assign({},e),{price:r.price,priceCurrency:r.priceCurrency}):null}function b(e,r,t){if(e&&r&&function(e,r,t){var n;if(e){let i=!0,a=!0;t&&(i=t(e.expectedArrivalFrom,!1,r),a=t(e.expectedArrivalUntil,!1,r));let s=p(e.partOfOrder);if((null===(n=null==s?void 0:s.seller)||void 0===n?void 0:n.name)&&(e.expectedArrivalFrom&&i||e.expectedArrivalUntil&&a))return!0}return!1}(r,e,t)){let t=p(r.partOfOrder),i=t.seller,s=Object.assign(Object.assign({},e),{entityName:n.a.ParcelDelivery,entityType:a.a.ParcelDelivery,trackingUrl:r.trackingUrl,trackingNumber:r.trackingNumber,expectedArrivalFrom:r.expectedArrivalFrom,expectedArrivalUntil:r.expectedArrivalUntil,expectedArrivalUntilUtc:r["expectedArrivalUntil/utc"],deliveryAddress:{},partOfOrder:{orderNumber:t.orderNumber,orderStatus:t.orderStatus,seller:{name:i.name,telephone:i.telephone}}});s.provider=m({},r.provider),s.deliveryAddress=o({},r.deliveryAddress);let c=p(r.partOfOrder.orderedItem);return c&&(s.partOfOrder=Object.assign(Object.assign({},s.partOfOrder),{orderedItem:{url:c.url,name:c.name,sku:c.sku,description:c.description,brand:c.brand,color:c.color}})),s}return null}function T(e,r){if(r=p(r),e&&r){let t=Object.assign(Object.assign({},e),{name:r.name,description:r.addressLocality,model:r.model});return r.brand&&(t=Object.assign(Object.assign({},t),{brand:Object.assign({},r.brand)})),t}return null}var R=t(10416);function O(e,r,t,l){if(e){let O=Object(i.a)(e,t);if(O){switch(e["@type"]){case n.a.FlightReservation:O=Object(v.a)(O,e,l);break;case n.a.RentalCarReservation:O=function(e,r,t){if(e&&r&&function(e,r,t){const n=!t||t(e.pickupTime,!1,r)&&t(e.dropoffTime,!1,r);if(e.reservationFor&&e.dropoffLocation&&e.pickupLocation&&e.pickupTime&&e.dropoffTime&&n)return!0;return!1}(r,e,t)){let t=Object(s.a)(e,r,!0);return t=Object.assign(Object.assign({},t),{entityName:n.a.RentalCarReservation,entityType:a.a.RentalCarReservation,pickupTime:r.pickupTime,pickupTimeUTC:r["pickupTime/utc"],dropoffTime:r.dropoffTime,dropoffTimeUTC:r["dropoffTime/utc"],car:T(t,r.reservationFor),dropoffLocation:Object(u.a)(t,r.dropoffLocation),pickupLocation:Object(u.a)(t,r.pickupLocation),provider:r.provider}),t}return null}(O,e,l);break;case n.a.ParcelDelivery:O=b(O,e,l);break;case n.a.LodgingReservation:O=function(e,r,t){if(e&&r&&function(e,r,t){if(e){const n=!t||t(e.checkinTime,!1,r)&&t(e.checkoutTime,!1,r);if(e.checkinTime&&e.checkoutTime&&e.reservationFor&&n)return!0}return!1}(r,e,t)){let t=Object(s.a)(e,r,!0);t=Object.assign(Object.assign({},t),{entityName:n.a.LodgingReservation,entityType:a.a.LodgingReservation,checkinTime:r.checkinTime,checkoutTime:r.checkoutTime,checkinTimeUTC:r["checkinTime/utc"],checkoutTimeUTC:r["checkoutTime/utc"],lodgingBusiness:{},numAdults:r.numAdults,numChildren:r.numChildren});const i=p(t.lodgingBusiness);return i.address=o({},r.reservationFor.address),i.name=r.reservationFor.name,i.telephone=r.reservationFor.telephone,t}return null}(O,e,l);break;case n.a.FoodReservation:O=function(e,r,t){if(e&&r&&function(e,r,t){const n=!t||t(e.startTime,!1,r);if((null==e?void 0:e.startTime)&&e.underName&&e.underName.name&&e.reservationFor&&e.reservationFor.name&&n)return!0;return!1}(r,e,t)){let t=Object(s.a)(e,r,!0);return t=Object.assign(Object.assign({},t),{entityName:n.a.FoodReservation,entityType:a.a.FoodReservation,startTime:r.startTime,startTimeUTC:r["startTime/utc"],partySize:Number(r["partySize/excludingOrganizer"]),restaurantInfo:c(r)}),t}return null}(O,e,l);break;case n.a.EventReservation:O=function(e,r){if(e&&r&&function(e){var r;if((null===(r=null==e?void 0:e.reservationFor)||void 0===r?void 0:r.startDate)&&e.underName&&e.underName.name)return!0;return!1}(r)){let t=Object(s.a)(e,r,!0),i=r.reservationFor;if(i)return t=Object.assign(Object.assign({},t),{entityName:n.a.EventReservation,entityType:a.a.EventReservation,name:r.underName.name,startDate:i.startDate,startDateUtc:i["startDate/utc"],endDate:i.endDate,endDateUtc:i["endDate/utc"],numSeats:d(r),location:Object(u.a)(t,i.location),eventName:i.name}),t}return null}(O,e);break;case n.a.Invoice:O=r?function(e,r,t){if(e&&r&&function(e,r,t){const n=!t||(t(e.scheduledPaymentDate,!1,r)||t(e.paymentDueDate,!1,r));if(e&&(e.accountId||e.accountIdEndsIn)&&e.provider&&e.provider.name&&(e.scheduledPaymentDate||e.paymentDueDate)&&n)return!0;return!1}(r,e,t)){return Object.assign(Object.assign({},e),{entityName:n.a.Invoice,entityType:a.a.Invoice,accountId:r.accountId,accountIdEndsIn:r["accountId/ending"],billingPeriod:r.billingPeriod,scheduledPaymentDate:r.scheduledPaymentDate,broker:m({},r.broker),category:r.category,customer:r.customer,provider:m({},r.provider),minimumPaymentDue:g({},r.minimumPaymentDue),totalPaymentDue:g({},r.totalPaymentDue),paymentDueDate:r.paymentDueDate,potentialAction:f({},r.potentialAction),paymentStatus:r.paymentStatus})}return null}(O,e,l):null;break;case n.a.ServiceReservation:O=function(e,r,t){if(e&&r&&function(e,r,t){if(e){let n=e.reservationFor;const i=!t||t(n.startTimeFrom,!1,r);if((null==n?void 0:n.name)&&n.startTimeFrom&&i&&n.provider&&n.provider.name)return!0}return!1}(r,e,t)){let t=Object(s.a)(e,r,!0),i=r.reservationFor;return t=Object.assign(Object.assign({},t),{entityName:n.a.ServiceReservation,entityType:a.a.ServiceReservation,startTimeFrom:i.startTimeFrom,startTimeFromUtc:r.reservationFor["startTimeFrom/utc"],endTimeFrom:i.endTimeFrom,endTimeFromUtc:r.reservationFor["endTimeFrom/utc"],name:i.name,underName:Object(R.a)(t,r.underName),provider:Object(R.a)(t,i.provider),location:Object(u.a)({},i.location),confirmReservationUrl:r.confirmReservationUrl,modifyReservationUrl:r.modifyReservationUrl}),t}return null}(O,e,l);break;default:return null}return O}}return null}t.d(r,"a",(function(){return O}))}}]);
//# sourceMappingURL=owa.149.js.map
self.scriptsLoaded['owa.149.js'] = 1; self.scriptProcessEnd = self.scriptProcessEnd || {}; self.scriptProcessEnd['owa.149.js'] = (new Date()).getTime();